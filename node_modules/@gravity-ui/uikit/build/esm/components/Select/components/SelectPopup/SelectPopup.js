import React from 'react';
import { Popup } from '../../../Popup';
import { Sheet } from '../../../Sheet';
import { blockNew } from '../../../utils/cn';
import { BORDER_WIDTH, SelectQa } from '../../constants';
import { getModifiers } from './modifiers';
import './SelectPopup.css';
const b = blockNew('select-popup');
const DEFAULT_PLACEMENT = ['bottom-start', 'bottom-end', 'top-start', 'top-end'];
export const SelectPopup = React.forwardRef(({ handleClose, width, open, placement = DEFAULT_PLACEMENT, controlRef, children, className, disablePortal, virtualized, mobile, id, }, ref) => mobile ? (React.createElement(Sheet, { qa: SelectQa.SHEET, className: className, visible: Boolean(open), onClose: handleClose }, children)) : (React.createElement(Popup, { contentClassName: b(null, className), qa: SelectQa.POPUP, anchorRef: ref, placement: placement, offset: [BORDER_WIDTH, BORDER_WIDTH], open: open, onClose: handleClose, disablePortal: disablePortal, restoreFocus: true, restoreFocusRef: controlRef, modifiers: getModifiers({ width, disablePortal, virtualized }), id: id }, children)));
SelectPopup.displayName = 'SelectPopup';
