"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.updateBodyClassName = void 0;
const cn_1 = require("../utils/cn");
const getBodyClassName_1 = require("./getBodyClassName");
const rootClassName = (0, getBodyClassName_1.getDeprecatedRootClassName)();
const rootNewClassName = (0, getBodyClassName_1.getRootClassName)();
const defaultModifiers = {
    'native-scrollbar': false,
};
function updateBodyClassName(newTheme, modifiers, customRootClassName, prevCustomRootClassName) {
    const bodyEl = document.body;
    if (!bodyEl.classList.contains(rootClassName)) {
        bodyEl.classList.add(rootClassName);
    }
    if (!bodyEl.classList.contains(rootNewClassName)) {
        bodyEl.classList.add(rootNewClassName);
    }
    if (prevCustomRootClassName) {
        const parsedPrevCustomRootClassNames = prevCustomRootClassName.split(' ');
        parsedPrevCustomRootClassNames.forEach((cls) => {
            if (cls) {
                bodyEl.classList.remove(cls);
            }
        });
    }
    if (customRootClassName) {
        const parsedCustomRootClassNames = customRootClassName.split(' ');
        parsedCustomRootClassNames.forEach((cls) => {
            if (cls && !bodyEl.classList.contains(cls)) {
                bodyEl.classList.add(cls);
            }
        });
    }
    [...bodyEl.classList].forEach((cls) => {
        if (cls.startsWith((0, cn_1.modsClassName)((0, getBodyClassName_1.getDeprecatedRootClassName)({ theme: true })))) {
            bodyEl.classList.remove(cls);
        }
        if (cls.startsWith((0, cn_1.modsClassName)((0, getBodyClassName_1.getRootClassName)({ theme: true })))) {
            bodyEl.classList.remove(cls);
        }
    });
    bodyEl.classList.add((0, cn_1.modsClassName)((0, getBodyClassName_1.getDeprecatedRootClassName)({ theme: newTheme })));
    bodyEl.classList.add((0, cn_1.modsClassName)((0, getBodyClassName_1.getRootClassName)({ theme: newTheme })));
    for (const [key, value] of Object.entries(Object.assign(Object.assign({}, defaultModifiers), modifiers))) {
        bodyEl.classList.toggle((0, cn_1.modsClassName)((0, getBodyClassName_1.getDeprecatedRootClassName)({ [key]: true })), value);
        bodyEl.classList.toggle((0, cn_1.modsClassName)((0, getBodyClassName_1.getRootClassName)({ [key]: true })), value);
    }
}
exports.updateBodyClassName = updateBodyClassName;
