const VALUES_LIMIT = 1000;
export const getXAxisThresholdValue = (graphs, operation) => {
    const xAxisValues = graphs.reduce((acc, series) => {
        const data = series.data || [];
        return [...acc, ...data.map((point) => point.x)];
    }, []);
    const fn = operation === 'min' ? Math.min : Math.max;
    let index = 0;
    let limited = xAxisValues.slice(0, VALUES_LIMIT);
    let xAxisValue;
    do {
        if (typeof xAxisValue === 'number') {
            limited.push(xAxisValue);
        }
        xAxisValue = fn(...limited);
        index += 1;
        limited = xAxisValues.slice(index * VALUES_LIMIT, index * VALUES_LIMIT + VALUES_LIMIT);
    } while (limited.length);
    return isFinite(xAxisValue) ? xAxisValue : null;
};
